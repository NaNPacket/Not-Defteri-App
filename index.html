<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Notlar Uygulamas覺</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://unpkg.com/react-markdown@8.0.0/react-markdown.min.js"></script>
    <script src="https://unpkg.com/array-move"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 600px; margin: auto; }
        .note { padding: 10px; border: 1px solid #ddd; margin-bottom: 10px; border-radius: 5px; }
        .dark { background: #121212; color: white; }
        button { padding: 5px 10px; margin: 5px; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const ReactMarkdown = window.ReactMarkdown;

        function App() {
            const [notes, setNotes] = useState(() => JSON.parse(localStorage.getItem("notes")) || []);
            const [darkMode, setDarkMode] = useState(() => JSON.parse(localStorage.getItem("darkMode")) || false);
            const [newNote, setNewNote] = useState("");
            const [searchTerm, setSearchTerm] = useState("");

            useEffect(() => {
                localStorage.setItem("notes", JSON.stringify(notes));
                localStorage.setItem("darkMode", JSON.stringify(darkMode));
            }, [notes, darkMode]);

            const addNote = () => {
                if (newNote.trim()) {
                    const note = { id: Date.now(), text: newNote, date: new Date().toISOString() };
                    setNotes([...notes, note]);
                    setNewNote("");
                }
            };

            const deleteNote = (id) => {
                setNotes(notes.filter(note => note.id !== id));
            };

            return (
                <div className={`container ${darkMode ? "dark" : ""}`}>
                    <button onClick={() => setDarkMode(!darkMode)}>
                        {darkMode ? "Ayd覺nl覺k Mod" : "Karanl覺k Mod"}
                    </button>
                    <input 
                        type="text" 
                        placeholder="Yeni not ekle..." 
                        value={newNote} 
                        onChange={(e) => setNewNote(e.target.value)}
                    />
                    <button onClick={addNote}>Ekle</button>
                    <input 
                        type="text" 
                        placeholder="Notlarda ara..." 
                        value={searchTerm} 
                        onChange={(e) => setSearchTerm(e.target.value)}
                    />
                    <div>
                        {notes
                            .filter(note => note.text.toLowerCase().includes(searchTerm.toLowerCase()))
                            .map(note => (
                                <div key={note.id} className="note">
                                    <ReactMarkdown>{note.text}</ReactMarkdown>
                                    <small>{new Date(note.date).toLocaleString()}</small>
                                    <button onClick={() => deleteNote(note.id)}>Sil</button>
                                </div>
                            ))}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>
